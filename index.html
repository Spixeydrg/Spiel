<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Ultra LifeSim</title>
<style>
body{
    margin:0;
    font-family:Arial;
    background:#0f0f0f;
    color:white;
}
.container{
    max-width:1000px;
    margin:auto;
    padding:20px;
}
.card{
    background:#1c1c1c;
    padding:15px;
    border-radius:12px;
    margin-bottom:15px;
}
button{
    padding:8px 12px;
    border:none;
    border-radius:6px;
    cursor:pointer;
    margin:4px;
    background:#3498db;
    color:white;
}
button:hover{background:#2980b9}
.bar{
    height:14px;
    border-radius:6px;
    margin-bottom:6px;
}
h1{text-align:center}
</style>
</head>
<body>
<div class="container">
<h1>ğŸŒ Ultra LifeSim</h1>
<div id="game"></div>
</div>

<script>
class Player{
    constructor(name){
        this.name=name;
        this.age=0;
        this.gender=Math.random()>0.5?"MÃ¤nnlich":"Weiblich";
        this.health=80;
        this.happiness=80;
        this.intelligence=50;
        this.looks=50;
        this.money=1000;
        this.job="Arbeitslos";
        this.education="Keine";
        this.reputation=50;
        this.partner=null;
        this.children=[];
        this.house=false;
        this.car=false;
        this.inPrison=false;
        this.prisonYears=0;
        this.alive=true;
        this.achievements=[];
    }
}

let player;

function save(){localStorage.setItem("ultraLife",JSON.stringify(player))}
function load(){
    let data=localStorage.getItem("ultraLife");
    if(data){player=Object.assign(new Player(),JSON.parse(data))}
    else newGame();
    render();
}

function newGame(){
    let name=prompt("Name?");
    player=new Player(name||"Max");
    save();
}

function bar(val,color){
    if(val>100)val=100;
    if(val<0)val=0;
    return `<div class="bar" style="width:${val}%;background:${color}"></div>`;
}

function ageUp(){
    if(!player.alive)return;

    player.age++;

    if(player.inPrison){
        player.prisonYears--;
        if(player.prisonYears<=0){
            player.inPrison=false;
            alert("Du bist frei!");
        }
    }else{
        randomEvent();
        salary();
    }

    if(player.age>75 && Math.random()<0.3) die();
    if(player.health<=0) die();

    checkAchievements();
    save();
    render();
}

function salary(){
    if(player.job==="Arzt")player.money+=6000;
    if(player.job==="Programmierer")player.money+=5000;
    if(player.job==="Lehrer")player.money+=3000;
}

function randomEvent(){
    let events=[
        ()=>{player.happiness+=5;},
        ()=>{player.health-=10; alert("Du wurdest krank.");},
        ()=>{player.money+=2000; alert("Bonus erhalten!");},
        ()=>{player.reputation-=5;}
    ];
    events[Math.floor(Math.random()*events.length)]();
}

function study(){
    if(player.age<18){
        player.intelligence+=5;
        player.education="Schule";
    }else{
        player.intelligence+=10;
        player.education="Studium";
    }
}

function getJob(){
    if(player.education==="Studium" && player.intelligence>70){
        player.job="Arzt";
    }else if(player.intelligence>60){
        player.job="Programmierer";
    }else if(player.education==="Studium"){
        player.job="Lehrer";
    }else{
        alert("Nicht qualifiziert!");
    }
}

function date(){
    if(player.age<16){alert("Zu jung!");return;}
    if(!player.partner){
        player.partner="Partner";
        player.happiness+=10;
    }else{
        alert("Schon vergeben!");
    }
}

function makeChild(){
    if(player.partner){
        player.children.push("Kind "+(player.children.length+1));
        player.happiness+=5;
    }
}

function commitCrime(){
    if(Math.random()<0.5){
        player.money+=3000;
        player.reputation-=10;
    }else{
        player.inPrison=true;
        player.prisonYears=3;
        player.reputation-=20;
    }
}

function buyHouse(){
    if(player.money>=20000){
        player.money-=20000;
        player.house=true;
    }
}

function buyCar(){
    if(player.money>=10000){
        player.money-=10000;
        player.car=true;
    }
}

function invest(){
    if(player.money>=5000){
        player.money-=5000;
        if(Math.random()<0.5)player.money+=10000;
        else alert("Investment verloren!");
    }
}

function checkAchievements(){
    if(player.money>100000 && !player.achievements.includes("Reich")){
        player.achievements.push("Reich");
    }
    if(player.age>=100 && !player.achievements.includes("100 Jahre")){
        player.achievements.push("100 Jahre");
    }
}

function die(){
    player.alive=false;
    alert("Du bist im Alter von "+player.age+" gestorben.");
}

function render(){
document.getElementById("game").innerHTML=`
<div class="card">
<h2>${player.name} (${player.age})</h2>
<p>${player.gender}</p>
<p>Job: ${player.job}</p>
<p>Geld: ${player.money}â‚¬</p>
<p>Ruf: ${player.reputation}</p>
<p>Partner: ${player.partner||"Keiner"}</p>
<p>Kinder: ${player.children.length}</p>
<p>Haus: ${player.house?"Ja":"Nein"} | Auto: ${player.car?"Ja":"Nein"}</p>
<p>Achievements: ${player.achievements.join(", ")}</p>
</div>

<div class="card">
â¤ï¸ ${bar(player.health,"red")}
ğŸ˜Š ${bar(player.happiness,"yellow")}
ğŸ§  ${bar(player.intelligence,"blue")}
ğŸ˜ ${bar(player.looks,"pink")}
</div>

<div class="card">
${player.alive?`<button onclick="ageUp()">NÃ¤chstes Jahr</button>`:`<button onclick="newGame()">Neues Leben</button>`}
<button onclick="study()">Lernen</button>
<button onclick="getJob()">Job</button>
<button onclick="date()">Dating</button>
<button onclick="makeChild()">Kind</button>
<button onclick="commitCrime()">Verbrechen</button>
<button onclick="buyHouse()">Haus</button>
<button onclick="buyCar()">Auto</button>
<button onclick="invest()">Investieren</button>
</div>
`;
}

load();
</script>
</body>
</html>
